name: Test My Custom Runner

on:
  workflow_dispatch:  # Ð ÑƒÑ‡Ð½Ð¾Ð¹ Ð·Ð°Ð¿ÑƒÑÐº
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  test-runner:
    runs-on: self-hosted  # Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ self-hosted runner
    
    steps:
    - name: Check if running on my machine
      run: |
        echo "ðŸŽ¯ Running on MY machine!"
        echo "Hostname: $(hostname)"
        echo "User: $(whoami)"
        echo "OS: $(uname -a)"
        echo "Current directory: $(pwd)"
        
    - name: List directory contents
      run: |
        echo "ðŸ“ Contents of current directory:"
        ls -la
        
    - name: Show system info
      run: |
        echo "ðŸ’» CPU Info:"
        sysctl -n machdep.cpu.brand_string  # Ð”Ð»Ñ macOS
        # Ð”Ð»Ñ Linux Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ: lscpu | grep "Model name"
        
        echo "ðŸ§  Memory:"
        system_profiler SPHardwareDataType | grep "Memory"  # macOS
        # Ð”Ð»Ñ Linux: free -h
        
    - name: Create custom file
      run: |
        echo "This file was created on MY machine at $(date)" > my-machine-proof.txt
        echo "Machine ID: $(hostname)-$(whoami)-$(date +%s)" >> my-machine-proof.txt
        
    - name: Upload proof artifact
      uses: actions/upload-artifact@v4
      with:
        name: my-machine-proof
        path: my-machine-proof.txt
